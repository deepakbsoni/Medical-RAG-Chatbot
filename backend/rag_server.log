/Users/deepsoni/Oracle Content - Accounts/Oracle Content/Projects/CoE_initial/CoE_base/000-AICoE-Knowledgebase/001-customers/QRCS-Healthcare-Qatar/RAG/backend/medical_rag_server.py:98: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("startup")
INFO:     Started server process [72899]
INFO:     Waiting for application startup.
2025-10-03 15:36:14,503 - __main__ - INFO - üöÄ Starting Medical RAG Enhancement Server
2025-10-03 15:36:14,503 - __main__ - INFO - üìä RAG Engine initialized with 5 symptom patterns
2025-10-03 15:36:14,503 - __main__ - INFO - üîó Original LLM backend: http://localhost:8001
2025-10-03 15:36:14,503 - __main__ - INFO - üåê Server will run on port 8002
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8002 (Press CTRL+C to quit)
2025-10-03 15:36:16,342 - httpx - INFO - HTTP Request: GET http://localhost:8001/health "HTTP/1.0 200 OK"
üè• Medical RAG Enhancement Server
==================================================
üöÄ Starting server on port 8002
üîó Original LLM backend: http://localhost:8001
üß† RAG engine initialized
üìä Medical entity patterns loaded
==================================================
INFO:     127.0.0.1:62040 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62044 - "GET /dev/test-rag HTTP/1.1" 200 OK
2025-10-03 15:36:45,330 - __main__ - INFO - üîç Processing enhanced chat request for session test123
2025-10-03 15:36:45,330 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 15:36:45,330 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 15:36:47,195 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 15:36:47,199 - __main__ - INFO - Formatting alternative medical AI response with 4 symptoms and 15 illnesses
2025-10-03 15:36:47,200 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 15:36:48,983 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 15:36:48,984 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 15:36:48,985 - __main__ - INFO - ‚úÖ Enhanced chat completed in 3.65s
INFO:     127.0.0.1:62089 - "POST /enhanced-chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:62123 - "OPTIONS /health HTTP/1.1" 200 OK
2025-10-03 15:37:24,759 - httpx - INFO - HTTP Request: GET http://localhost:8001/health "HTTP/1.0 200 OK"
INFO:     127.0.0.1:62123 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62131 - "OPTIONS /enhanced-chat HTTP/1.1" 200 OK
2025-10-03 15:37:31,576 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759498644731_28rwptbdk
2025-10-03 15:37:31,577 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 15:37:31,579 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 15:37:33,641 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 15:37:33,642 - __main__ - INFO - Formatting alternative medical AI response with 4 symptoms and 15 illnesses
2025-10-03 15:37:33,643 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 15:37:35,434 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 15:37:35,437 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 15:37:35,438 - __main__ - INFO - ‚úÖ Enhanced chat completed in 3.86s
INFO:     127.0.0.1:62131 - "POST /enhanced-chat HTTP/1.1" 200 OK
2025-10-03 15:45:47,207 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759498644731_28rwptbdk
2025-10-03 15:45:47,209 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 15:45:47,211 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 15:45:49,059 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 15:45:49,061 - __main__ - INFO - Formatting alternative medical AI response with 10 symptoms and 5 illnesses
2025-10-03 15:45:49,061 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 15:45:50,293 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 15:45:50,294 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 15:45:50,295 - __main__ - INFO - ‚úÖ Enhanced chat completed in 3.09s
INFO:     127.0.0.1:62164 - "POST /enhanced-chat HTTP/1.1" 200 OK
2025-10-03 15:46:28,524 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759498644731_28rwptbdk
2025-10-03 15:46:28,525 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 15:46:28,526 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 15:46:29,819 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 15:46:29,822 - __main__ - INFO - Formatting alternative medical AI response with 3 symptoms and 3 illnesses
2025-10-03 15:46:29,823 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 15:46:30,246 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 15:46:30,268 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 15:46:30,270 - __main__ - INFO - ‚úÖ Enhanced chat completed in 1.75s
INFO:     127.0.0.1:62175 - "POST /enhanced-chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:62253 - "OPTIONS /enhanced-chat HTTP/1.1" 200 OK
2025-10-03 15:53:00,172 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759498644731_28rwptbdk
2025-10-03 15:53:00,173 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 15:53:00,175 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 15:53:01,785 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 15:53:01,790 - __main__ - INFO - Formatting alternative medical AI response with 3 symptoms and 3 illnesses
2025-10-03 15:53:01,791 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 15:53:03,677 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 15:53:03,679 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 15:53:03,680 - __main__ - INFO - ‚úÖ Enhanced chat completed in 3.51s
INFO:     127.0.0.1:62253 - "POST /enhanced-chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:62566 - "OPTIONS /health HTTP/1.1" 200 OK
2025-10-03 15:59:13,692 - httpx - INFO - HTTP Request: GET http://localhost:8001/health "HTTP/1.0 200 OK"
INFO:     127.0.0.1:62566 - "GET /health HTTP/1.1" 200 OK
2025-10-03 16:01:06,505 - httpx - INFO - HTTP Request: GET http://localhost:8001/health "HTTP/1.0 200 OK"
INFO:     127.0.0.1:62706 - "GET /health HTTP/1.1" 200 OK
2025-10-03 16:01:15,589 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759500066468_d50juk8gu
2025-10-03 16:01:15,590 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 16:01:15,592 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 16:01:18,591 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:01:18,592 - __main__ - INFO - Formatting alternative medical AI response with 4 symptoms and 15 illnesses
2025-10-03 16:01:18,592 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 16:01:20,370 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:01:20,372 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 16:01:20,374 - __main__ - INFO - ‚úÖ Enhanced chat completed in 4.78s
INFO:     127.0.0.1:62713 - "POST /enhanced-chat HTTP/1.1" 200 OK
2025-10-03 16:02:11,112 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759500066468_d50juk8gu
2025-10-03 16:02:11,113 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 16:02:11,114 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 16:02:16,383 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:02:16,385 - __main__ - INFO - Formatting alternative medical AI response with 4 symptoms and 15 illnesses
2025-10-03 16:02:16,386 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 16:02:18,611 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:02:18,612 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 16:02:18,612 - __main__ - INFO - ‚úÖ Enhanced chat completed in 7.50s
INFO:     127.0.0.1:62727 - "POST /enhanced-chat HTTP/1.1" 200 OK
2025-10-03 16:05:14,782 - httpx - INFO - HTTP Request: GET http://localhost:8001/health "HTTP/1.0 200 OK"
INFO:     127.0.0.1:62952 - "GET /health HTTP/1.1" 200 OK
2025-10-03 16:07:37,216 - httpx - INFO - HTTP Request: GET http://localhost:8001/health "HTTP/1.0 200 OK"
INFO:     127.0.0.1:63081 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63089 - "OPTIONS /enhanced-chat HTTP/1.1" 200 OK
2025-10-03 16:08:30,938 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759500457171_n2f18tuyy
2025-10-03 16:08:30,938 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 16:08:30,941 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 16:08:32,776 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:08:32,777 - __main__ - INFO - Formatting alternative medical AI response with 4 symptoms and 15 illnesses
2025-10-03 16:08:32,778 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 16:08:34,601 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:08:34,604 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 16:08:34,606 - __main__ - INFO - ‚úÖ Enhanced chat completed in 3.67s
INFO:     127.0.0.1:63089 - "POST /enhanced-chat HTTP/1.1" 200 OK
2025-10-03 16:09:11,480 - httpx - INFO - HTTP Request: GET http://localhost:8001/health "HTTP/1.0 200 OK"
INFO:     127.0.0.1:63105 - "GET /health HTTP/1.1" 200 OK
2025-10-03 16:09:37,685 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759500551430_2e37vo9gs
2025-10-03 16:09:37,685 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 16:09:37,687 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 16:09:39,502 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:09:39,515 - __main__ - INFO - Formatting alternative medical AI response with 4 symptoms and 15 illnesses
2025-10-03 16:09:39,516 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 16:09:41,293 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:09:41,297 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 16:09:41,298 - __main__ - INFO - ‚úÖ Enhanced chat completed in 3.61s
INFO:     127.0.0.1:63112 - "POST /enhanced-chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:63123 - "OPTIONS /health HTTP/1.1" 200 OK
2025-10-03 16:09:47,546 - httpx - INFO - HTTP Request: GET http://localhost:8001/health "HTTP/1.0 200 OK"
INFO:     127.0.0.1:63123 - "GET /health HTTP/1.1" 200 OK
2025-10-03 16:10:18,242 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759500587510_70w8pqzb4
2025-10-03 16:10:18,243 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 16:10:18,244 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 16:10:20,024 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:10:20,027 - __main__ - INFO - Formatting alternative medical AI response with 4 symptoms and 15 illnesses
2025-10-03 16:10:20,027 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 16:10:21,827 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:10:21,829 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 16:10:21,830 - __main__ - INFO - ‚úÖ Enhanced chat completed in 3.59s
INFO:     127.0.0.1:63135 - "POST /enhanced-chat HTTP/1.1" 200 OK
2025-10-03 16:13:49,219 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759500587510_70w8pqzb4
2025-10-03 16:13:49,220 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 16:13:49,221 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 16:13:51,598 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:13:51,600 - __main__ - INFO - Formatting alternative medical AI response with 4 symptoms and 15 illnesses
2025-10-03 16:13:51,601 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 16:13:54,837 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:13:54,840 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 16:13:54,841 - __main__ - INFO - ‚úÖ Enhanced chat completed in 5.62s
INFO:     127.0.0.1:63150 - "POST /enhanced-chat HTTP/1.1" 200 OK
2025-10-03 16:16:36,597 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759500587510_70w8pqzb4
2025-10-03 16:16:36,599 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 16:16:36,601 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 16:16:36,772 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:16:36,775 - __main__ - INFO - Formatting alternative medical AI response with 0 symptoms and 0 illnesses
2025-10-03 16:16:36,776 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 16:16:36,936 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:16:36,940 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 16:16:36,941 - __main__ - INFO - ‚úÖ Enhanced chat completed in 0.34s
INFO:     127.0.0.1:63166 - "POST /enhanced-chat HTTP/1.1" 200 OK
2025-10-03 16:16:59,691 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759500587510_70w8pqzb4
2025-10-03 16:16:59,691 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 16:16:59,692 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 16:16:59,880 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:16:59,882 - __main__ - INFO - Formatting alternative medical AI response with 0 symptoms and 0 illnesses
2025-10-03 16:16:59,882 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 16:17:00,037 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:17:00,040 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 16:17:00,042 - __main__ - INFO - ‚úÖ Enhanced chat completed in 0.35s
INFO:     127.0.0.1:63176 - "POST /enhanced-chat HTTP/1.1" 200 OK
2025-10-03 16:17:23,182 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759500587510_70w8pqzb4
2025-10-03 16:17:23,183 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 16:17:23,184 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 16:17:23,347 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:17:23,350 - __main__ - INFO - Formatting alternative medical AI response with 0 symptoms and 0 illnesses
2025-10-03 16:17:23,350 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 16:17:23,505 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:17:23,507 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 16:17:23,508 - __main__ - INFO - ‚úÖ Enhanced chat completed in 0.33s
INFO:     127.0.0.1:63186 - "POST /enhanced-chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:63198 - "OPTIONS /enhanced-chat HTTP/1.1" 200 OK
2025-10-03 16:18:38,644 - __main__ - INFO - üîç Processing enhanced chat request for session session_1759500587510_70w8pqzb4
2025-10-03 16:18:38,644 - __main__ - INFO - üß† Running RAG analysis...
2025-10-03 16:18:38,645 - __main__ - INFO - üì° Sending user message to medical AI for symptom analysis...
2025-10-03 16:18:44,691 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:18:44,694 - __main__ - INFO - Formatting alternative medical AI response with 1 symptoms and 28 illnesses
2025-10-03 16:18:44,695 - __main__ - INFO - üîç Parsing LLM response for medical entities...
2025-10-03 16:18:50,738 - httpx - INFO - HTTP Request: POST http://localhost:8001/diagnose "HTTP/1.0 200 OK"
2025-10-03 16:18:50,743 - __main__ - INFO - üíæ Storing interaction in memory...
2025-10-03 16:18:50,744 - __main__ - INFO - ‚úÖ Enhanced chat completed in 12.10s
INFO:     127.0.0.1:63198 - "POST /enhanced-chat HTTP/1.1" 200 OK
